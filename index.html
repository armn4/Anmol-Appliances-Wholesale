<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Anmol Appliances Marketplace</title>
<style>
body {margin:0;font-family:Arial,sans-serif;background:#f4f6f8;}
header {background:linear-gradient(to right,#0d47a1,#1976d2);color:white;padding:20px;text-align:center;position:relative;}
header img.logo{max-width:120px;display:block;margin:0 auto 10px;}
header h1{margin:5px 0;font-size:28px;}
header p{margin:3px 0;}
.container{max-width:900px;margin:20px auto;background:white;padding:20px;border-radius:10px;}
input,textarea,button,select{width:100%;padding:10px;margin:10px 0;border-radius:5px;}
button{background:#0d47a1;color:white;border:none;cursor:pointer;}
.products{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-top:20px;}
.product{background:white;padding:15px;border-radius:10px;box-shadow:0 2px 8px rgba(0,0,0,0.15);display:flex;flex-direction:column;align-items:center;transition:transform 0.2s;cursor:pointer;}
.product:hover{transform:scale(1.03);}
.product img{width:100%;max-height:200px;object-fit:cover;border-radius:8px;margin-bottom:10px;}
.product h3{font-size:18px;margin:10px 0 5px;text-align:center;}
.price{color:green;font-weight:bold;font-size:18px;margin-bottom:10px;}
.deleteBtn{background:red;margin-top:5px;}
#popupOverlay {display: none;position: fixed;top:0; left:0;width:100%; height:100%;background: rgba(0,0,0,0.8);justify-content:center;align-items:center;z-index:1000;overflow-y:auto;padding:20px;}
#popupContent {background:white;padding:20px;border-radius:10px;width:100%;max-width:800px;position:relative;box-sizing:border-box;}
#popupContent img {max-width:100%; height:auto; display:block; margin:0 auto 15px auto; border-radius:8px;}
#popupClose {position:absolute; top:10px; right:15px; font-size:24px; cursor:pointer; color:red;}
.contact-icons img{width:20px;vertical-align:middle;margin-right:5px;}
@media screen and (max-width:600px){header h1{font-size:22px;}}
</style>
</head>
<body>

<header>
  <img src="logo.png" alt="Anmol Appliances" class="logo">
  <h1>Anmol Appliances Marketplace</h1>
  <p>Buy & Sell Quality Used Appliances</p>
  <p>üìç 45770 Railway Ave, Unit 2 | üìû 604-795-1932</p>
  <p class="contact-icons">
    <img src="whatsapp.png" alt="WhatsApp"> <a href="https://wa.me/16047951932" style="color:white;">Chat on WhatsApp</a> |
    <img src="email.png" alt="Email"> <a href="mailto:singharman2004@gmail.com" style="color:white;">Email Us</a>
  </p>
</header>

<!-- Admin Login -->
<div class="container" id="loginDiv">
  <h2>Admin Login (Optional)</h2>
  <input type="email" id="adminEmail" placeholder="Email">
  <input type="password" id="adminPassword" placeholder="Password">
  <button onclick="login()">Login</button>
  <p id="loginMsg" style="color:red;"></p>
</div>

<!-- Admin Panel -->
<div class="container" id="adminDiv" style="display:none;">
  <h2>Add New Product</h2>
  <input type="text" id="name" placeholder="Product Name">
  <input type="text" id="price" placeholder="Price (e.g. $250)">
  <textarea id="description" placeholder="Description"></textarea>
  <select id="condition">
    <option value="">Select Condition</option>
    <option value="New">New</option>
    <option value="Used">Used</option>
    <option value="Refurbished">Refurbished</option>
  </select>
  <input type="text" id="category" placeholder="Category/Type">
  <input type="file" id="image" accept="image/*">
  <button onclick="addProduct()">Add Product</button>

  <h2>All Products</h2>
  <div class="products" id="productListAdmin"></div>
  <button onclick="logout()">Logout</button>
</div>

<!-- Customer View -->
<div class="container" id="customerDiv">
  <h2>Featured Products</h2>
  <div class="products" id="productListCustomer"></div>
</div>

<!-- Fullscreen Popup -->
<div id="popupOverlay" onclick="closePopup()">
  <div id="popupContent" onclick="event.stopPropagation()">
    <span id="popupClose" onclick="closePopup()">√ó</span>
    <img id="popupImage" src="" alt="Product Image">
    <h3 id="popupName"></h3>
    <p id="popupPrice" style="color:green;font-weight:bold;"></p>
    <p id="popupDescription"></p>
    <p id="popupCondition"></p>
    <p id="popupCategory"></p>
    <button onclick="window.open('https://wa.me/16047951932','_blank')">Contact Dealer</button>
  </div>
</div>

<script>
// Admin login
const adminEmailCorrect = "singharman2004@gmail.com";
const adminPasswordCorrect = "09@June2004";

function login(){
  const email = document.getElementById('adminEmail').value.trim();
  const password = document.getElementById('adminPassword').value.trim();
  if(email === adminEmailCorrect && password === adminPasswordCorrect){
    document.getElementById('loginDiv').style.display='none';
    document.getElementById('adminDiv').style.display='block';
  } else {
    document.getElementById('loginMsg').innerText = "Wrong email or password!";
  }
}

function logout(){
  document.getElementById('loginDiv').style.display='block';
  document.getElementById('adminDiv').style.display='none';
}

// Products
let products = JSON.parse(localStorage.getItem("products")) || [];

// Render products
function renderProducts(){
  const adminList = document.getElementById("productListAdmin");
  const customerList = document.getElementById("productListCustomer");
  adminList.innerHTML = "";
  customerList.innerHTML = "";
  products.forEach((p,index)=>{
    const htmlAdmin = `<div class="product" onclick="openPopup(${index})">
        <img src="${p.image}" alt="${p.name}">
        <h3>${p.name}</h3>
        <p class="price">${p.price}</p>
        <button class="deleteBtn" onclick="deleteProduct(event,${index})">Delete</button>
      </div>`;
    const htmlCustomer = `<div class="product" onclick="openPopup(${index})">
        <img src="${p.image}" alt="${p.name}">
        <h3>${p.name}</h3>
        <p class="price">${p.price}</p>
      </div>`;
    adminList.innerHTML += htmlAdmin;
    customerList.innerHTML += htmlCustomer;
  });
}

// Add product
function addProduct(){
  const name = document.getElementById('name').value.trim();
  const price = document.getElementById('price').value.trim();
  const description = document.getElementById('description').value.trim();
  const condition = document.getElementById('condition').value;
  const category = document.getElementById('category').value.trim();
  const file = document.getElementById('image').files[0];
  if(!name || !price || !description || !condition || !category || !file){ alert("Fill all fields!"); return; }

  const reader = new FileReader();
  reader.onload = function(){
    products.push({name, price, description, condition, category, image: reader.result});
    localStorage.setItem("products", JSON.stringify(products));
    renderProducts();
    document.getElementById('name').value='';
    document.getElementById('price').value='';
    document.getElementById('description').value='';
    document.getElementById('condition').value='';
    document.getElementById('category').value='';
    document.getElementById('image').value='';
  }
  reader.readAsDataURL(file);
}

// Delete product
function deleteProduct(e,index){
  e.stopPropagation();
  if(confirm("Are you sure you want to delete this product?")){
    products.splice(index,1);
    localStorage.setItem("products", JSON.stringify(products));
    renderProducts();
  }
}

// Popup
function openPopup(index){
  const p = products[index];
  document.getElementById('popupImage').src = p.image;
  document.getElementById('popupName').innerText = p.name;
  document.getElementById('popupPrice').innerText = p.price;
  document.getElementById('popupDescription').innerText = "Description: "+p.description;
  document.getElementById('popupCondition').innerText = "Condition: "+p.condition;
  document.getElementById('popupCategory').innerText = "Category: "+p.category;
  document.getElementById('popupOverlay').style.display='flex';
}

function closePopup(){ document.getElementById('popupOverlay').style.display='none'; }

renderProducts();
</script>

</body>
</html>

